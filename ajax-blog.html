<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Blog</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
<div id="post">
</div>
<script>
(async function() {
    "use strict";
    const post = await fetch("data/blog.json")
        .then(async function (response) {
            if (response.status !== 200) {
                console.log("can't read blog file");
                return [];
            } else
                return await response.json();
        })
    console.log(post)
    let myPost = document.querySelector("#post");
    for (let i = 0; i < post.length; i++) {
        let newPost =
            `
                <h1>${post[i].title}</h1>
                <p>${post[i].content}</p>
                <h4>${post[i].categories.join(", ")}</h4>
            `

        myPost.innerHTML += newPost
    }
})();



</script>
</body>
</html>